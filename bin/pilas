#!/usr/bin/python
import sys
sys.path.append('..')
from PyQt4 import QtCore, QtGui, QtWebKit

from optparse import OptionParser
import pilas

analizador = OptionParser()

analizador.add_option("-i", "--interactivo", dest="interactivo",
        action="store_true", default=False,
        help="Inicia el modo interactivo con una consola.")

analizador.add_option("-j", "--crearjuego", dest="crearjuego",
        action="store_true", default=False,
        help="Genera un directorio de videojuego vacio.")

analizador.add_option("-e", "--ejemplos", dest="ejemplos",
        action="store_true", default=False,
        help="Mustra varios ejemplos sencillos de pilas")

analizador.add_option("-t", "--test", dest="test",
        action="store_true", default=False,
        help="Invoca varias pruebas verificar el funcionamiento de pilas")

analizador.add_option("-v", "--version", dest="version",
        action="store_true", default=False,
        help="Consulta la version instalada")

(opciones, argumentos) = analizador.parse_args()


if opciones.interactivo:
    pilas.abrir_interprete()
    sys.exit(0)
elif opciones.crearjuego:
    pilas.utils.crear_juego()
elif opciones.ejemplos:
    app = QtGui.QApplication(sys.argv)
    pilas.abrir_cargador()
    sys.exit(0)
elif opciones.test:
    pilas.utils.realizar_pruebas()
    sys.exit(0)
elif opciones.version:
    from pilas import pilasversion
    print pilasversion.VERSION
    sys.exit(0)

print "Error, no has indicado un parametro para iniciar pilas."
print "Puedes ejecutar el comando 'pilas --help' para ver instrucciones."
sys.exit(1)

